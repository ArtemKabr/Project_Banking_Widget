# üì¶ Project Banking Widget

## üîê –û–ø–∏—Å–∞–Ω–∏–µ

**Project Banking Widget** ‚Äî –º–æ–¥—É–ª—å Python –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã –≤ —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç. –ü–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç, —Å—á–µ—Ç–æ–≤ –∏ –¥–∞—Ç—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

---

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- `get_mask_card_number(card_number: str) -> str`  
  –ú–∞—Å–∫–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–µ—Ä–≤—ã–µ 6 –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Ü–∏—Ñ—Ä—ã.

- `get_mask_account(account_number: str) -> str`  
  –ú–∞—Å–∫–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Ü–∏—Ñ—Ä—ã.

- `mask_account_card(account_info: str) -> str`  
  –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö (–∫–∞—Ä—Ç–∞ –∏–ª–∏ —Å—á–µ—Ç) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É.

- `get_date(date_str: str) -> str`  
  –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞—Ç—É –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ ISO –≤ —Ñ–æ—Ä–º–∞—Ç `–î–î.–ú–ú.–ì–ì–ì–ì`.

- `filter_by_state(transactions: list, state: str = 'EXECUTED') -> list`  
  –§–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π) –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é (`state`). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é **'EXECUTED'**.

- `sort_by_date(transactions: list, descending: bool = True) -> list`  
  –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ –¥–∞—Ç–µ. –ü–∞—Ä–∞–º–µ—Ç—Ä `descending` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–±—ã–≤–∞–Ω–∏–µ).

---

# üìå –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
>>> get_mask_card_number("1234567890123456")
'1234 56** **** 3456'

>>> get_mask_account("40817810099910004312")
'**4312'

>>> mask_account_card("–°—á–µ—Ç 40817810099910004312")
'–°—á–µ—Ç **4312'

>>> get_date("2023-11-20T08:45:00")
'20.11.2023'

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é
transactions = [
    {'id': 1, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
    {'id': 2, 'state': 'CANCELED', 'date': '2018-06-30T02:08:58.425572'},
]
filtered_transactions = filter_by_state(transactions, 'EXECUTED')
print(filtered_transactions)

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ –¥–∞—Ç–µ
sorted_transactions = sort_by_date(transactions, descending=False)
print(sorted_transactions)

```
---
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

# –ú–æ–¥—É–ª—å Masks:
### –¢–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ get_mask_card_number:

-  test_get_mask_card_number_valid:  –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–∞—Ä—Ç.

-   test_get_mask_card_number_invalid_length: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç (–Ω–µ 16 —Ü–∏—Ñ—Ä).

### –¢–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ get_mask_account:

- test_get_mask_account_valid: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Å—á–µ—Ç–∞.

- test_get_mask_account_invalid_chars: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–∞ —Å –±—É–∫–≤–∞–º–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏.

- test_get_mask_account_short_account: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ –Ω–æ–º–µ—Ä–∞ —Å—á–µ—Ç–æ–≤.

- test_get_mask_account_edge_cases: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏ –¥–ª—è –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤.

# –ú–æ–¥—É–ª—å Processing:
### –¢–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ filter_by_state:


- test_filter_by_state_default: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é "EXECUTED".
- test_filter_by_state_custom: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é "PENDING".
- test_filter_by_state_no_match: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫, –µ—Å–ª–∏ –Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π.

### –¢–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_by_date:

- test_sort_by_date_descending: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ –¥–∞—Ç–µ –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è.
- test_sort_by_date_ascending: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ –¥–∞—Ç–µ –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è.

# –ú–æ–¥—É–ª—å Widget:
### –¢–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ get_mask_card_number:

- test_get_mask_card_number_valid: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç.
- test_get_mask_card_number_invalid: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç.

### –¢–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ get_mask_account:

- test_get_mask_account_valid: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤.

- test_get_mask_account_invalid: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤.

### –¢–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ mask_account_card:

- test_mask_account_card: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç–µ –∏–ª–∏ —Å—á–µ—Ç–µ, –ø—Ä–æ–≤–µ—Ä—è—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã.

### –¢–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ get_date:

- test_get_date_valid: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö.

- test_get_date_invalid: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞—Ç.

# –ú–æ–¥—É–ª—å conftest (–§–∏–∫—Å—Ç—É—Ä—ã):
### –§–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∫–∞—Ä—Ç:

- invalid_card_number: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã.
- invalid_card_number_with_letters: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –±—É–∫–≤—ã.
- valid_card_numbers: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–ª–∏–¥–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç.
- invalid_card_numbers: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç.

### –§–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤ —Å—á–µ—Ç–æ–≤:

- invalid_account_number: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —Å—á–µ—Ç–∞ —Å –±—É–∫–≤–∞–º–∏.
- valid_account_numbers: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–ª–∏–¥–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤.
- invalid_account_numbers: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤.
- short_account_number: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —Å—á–µ—Ç–∞.
- short_account_numbers: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏—Ö –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤.

### –§–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –¥–∞—Ç:

- valid_dates: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞—Ç.

- invalid_dates: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞—Ç.

### –§–∏–∫—Å—Ç—É—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ mask_account_card:

- account_card_test_cases: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –≤–≤–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç–µ –∏–ª–∏ —Å—á–µ—Ç–µ.



## üåÄ –ú–æ–¥—É–ª—å generators

–ú–æ–¥—É–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

### üìò –§—É–Ω–∫—Ü–∏–∏:

- `filter_by_currency(transactions: List[Dict], currency_code: str) -> Iterator[Dict]`  
  –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"USD"`).

- `transaction_descriptions(transactions: List[Dict]) -> Iterator[str]`  
  –ò—Ç–µ—Ä–∞—Ç–æ—Ä –æ–ø–∏—Å–∞–Ω–∏–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

- `card_number_generator(start: int, stop: int) -> Iterator[str]`  
  –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ `XXXX XXXX XXXX XXXX`.

### üìå –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```python
# filter_by_currency
for tx in filter_by_currency(transactions, "USD"):
    print(tx)

# transaction_descriptions
for desc in transaction_descriptions(transactions):
    print(desc)

# card_number_generator
for card in card_number_generator(1, 3):
    print(card)


